Capriqorn documentation
=======================


Introduction
------------

Capriqorn implements the methods proposed in the following publication:

Atomic-resolution structural information from scattering experiments on
macromolecules in solution, Jürgen Köfinger and Gerhard Hummer, Phys. Rev. E 87,
052712 (2013).

Moreover, additional novel methods (virtual particles) are implemented.


Features
--------

Capriqorn provides -- but is not restricted to -- the following functionalities:

* versatile read-in of MD trajectories in various formats
* efficient data handling using HDF5 files
* trajectory preprocessing
* high-performance parallel distance histogram calculation on CPUs and GPUs using Cadishi
* histogram postprocessing


Requirements
------------

Capriqorn runs on Linux and OS X platforms. In particular, the following software
is required.

* Capriqorn requires a Python 2.7 installation including the well-known NumPy, SciPy, Cython,
  h5py, and PyYAML modules. We have successfully used the Anaconda Python
  Distribution which provides all these modules out of the box. Moreover, to
  compile the Cython kernels, a recent GCC installation is required.

* Capriqorn requires the Cadishi Python package to perform fast distance histogram
  calculations on CPUs and GPUs.

* Capriqorn requires the MDAnalysis Python library, in particular its data reader which
  supports a broad variety of file formats from molecular dynamics simulations.

* Optionally and for convenience, a HDF5 viewer (such as HDFView or HDF Compass) is
  useful to be able to quickly inspect the HDF5 files generated by Capriqorn.


Installation
------------

The package comes with a standard Python setup.py installer. It is installed
e.g. as follows into the user's homedirectory::

   python setup.py install --user

In this case, setup.py copies the Cadishi files into the directory ``~/.local``.
Make sure that your ``PATH`` environment variable contains the directory
``~/.local/bin``. To perform a system-wide installation omit the ``--user``
flag.


Usage
-----

Quick Start
~~~~~~~~~~~

To run the example analysis pipeline that comes with Capriqorn please issue
the following sequence of commands::

   capriq preproc-example
   capriq preproc
   capriq histo-example
   capriq histo
   capriq postproc-example
   capriq postproc

Tutorial
~~~~~~~~

The Capriqorn tutorial provides in-depth information:

.. toctree::
   :maxdepth: 2

   tutorial.rst


Source documentation
--------------------

To be done via docstrings after re-structuring of the code base.

.. toctree::
   :maxdepth: 2

   modules.rst

   executables.rst


License and Citation
--------------------

All rights reserved. For questions regarding a license or permission to use this
software package, please contact Jürgen Köfinger.

Copyright 2015-2017

* Jürgen Köfinger,
  Max Planck Institute of Biophysics,
  Max-von-Laue-Straße 3,
  60438 Frankfurt am Main,
  Germany,
  juergen.koefinger@biophys.mpg.de
* Klaus Reuter,
  Max Planck Computing and Data Facility,
  Gießenbachstraße 2,
  85748 Garching,
  Germany,
  klaus.reuter@mpcdf.mpg.de
* Max Linke,
  Max Planck Institute of Biophysics,
  Max-von-Laue-Straße 3,
  60438 Frankfurt am Main,
  Germany,
  max.linke@biophys.mpg.de

We kindly request that you cite Capriqorn in your publications and
presentations. We suggest the following citations as appropriate:

*  Atomic-resolution structural information from scattering experiments on
   macromolecules in solution, Jürgen Köfinger and Gerhard Hummer, Phys. Rev. E 87,
   052712 (2013).

.. TODO: Add code paper reference(s) once it is on the arxiv and/or published! 


Indices and tables
------------------

* :ref:`genindex`
* :ref:`modindex`
* :ref:`search`
